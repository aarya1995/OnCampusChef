<% provide(:title, 'BBQ Order') %>

 <%= render 'shared/header' %>
    
<div class="container ms-checkout a">

        <% flash.each do |key, value| %>
            <h3 style="color: red;"><%= content_tag(:div, value, class: "alert alert-#{key}") %></h3>
        <% end %> 


<form id="example-advanced-form" action="<%= barbecue_orders_path%>" method="POST">
    
    <!-- step 1: pick your meals -->

    <h3>Order</h3>
    <fieldset class="step1-order">
        <input name="authenticity_token" value="<%= form_authenticity_token %>" type="hidden">

            <div class="row menu-checkout">
                <legend class="ms-legend-1">Select a package #</legend>
                
                    <div class="col-md-5 menu" style="margin-bottom: 3%;">
                        <div class="form-group">
						  <label for="sel1">Package #:</label>
						  <select class="form-control" name ="package_number" id="sel1">
						    <option value="1">1</option>
						    <option value="2">2</option>
						    <option value="3">3</option>
						    <option value="4">4</option>
						    <option value="5">5</option>

						  </select>
						</div>
                    </div>

                    <div class="col-md-12">

                    	<table class="table table-striped table-hover">
					  		<thead>
								<tr>
									<th>Package #</th>
									<th># of people served</th>
									<th>Chef hours</th>
									<th>Cost Per Person</th>
									<th>Total Cost</th>
								</tr>
					  		</thead>
					  		<tbody>
								<tr>
									<td>1</td>
									<td>50</td>
									<td>4</td>
									<td>$9.74</td>
									<td>$486.80</td>
								</tr>
								<tr>
									<td>2</td>
									<td>40</td>
									<td>4</td>
									<td>$10.52</td>
									<td>$420.80</td>
								</tr>
								<tr>
									<td>3</td>
									<td>30</td>
									<td>3</td>
									<td>$11.83</td>
									<td>$354.80</td>
								</tr>
								<tr>
									<td>4</td>
									<td>20</td>
									<td>3</td>
									<td>$14.44</td>
									<td>$288.80</td>
								</tr>
								<tr>
									<td>5</td>
									<td>10</td>
									<td>3</td>
									<td>$19.40</td>
									<td>$194.00</td>
								</tr>
					  		</tbody>
						</table>
                    </div>           
            </div>
    </fieldset>

     <h3>Add Ons</h3>
    <fieldset>
        <div class="row" style="margin-top: 1%;">
        <legend class="ms-legend-2">Select any optional add on items</legend>
                    
            <div class="col-md-5 menu" style="margin-bottom: 3%;">
                <input type="checkbox" id= "a" name="c1" onChange="showMe('control1')"/>
                <label for="a">Shrimp</label>

                 <select class="form-control" id="control1" name ="shrimp_addon" id="sel1" style="display:none;">
                    <option value="null">Pick a control #</option>
                    <option value="shrimp1">Shrimp: #1</option>
                    <option value="shrimp2">Shrimp: #2</option>
                    <option value="shrimp3">Shrimp: #3</option>
                    <option value="shrimp4">Shrimp: #4</option>
                </select>
            </br>
                
                <input type="checkbox" id= "a" name="c1" onChange="showMe('control2')"/>
                <label for="a">Beef Kabob</label>

                <select class="form-control" id="control2" name ="beef_addon" id="sel1" style="display:none;">
                    <option value="null">Pick a control #</option>
                    <option value="beefkabob1">Beef Kabob: #1</option>
                    <option value="beefkabob2">Beef Kabob: #2</option>
                    <option value="beefkabob3">Beef Kabob: #3</option>
                    <option value="beefkabob4">Beef Kabob: #4</option>
                </select>
            </br>
                
                <input type="checkbox" id= "a" name="c1" onclick="showMe('control3')"/>
                <label for="a">Lamb Kabob</label>

                 <select class="form-control" id="control3" name ="lamb_addon" id="sel1" style="display:none;">
                    <option value="null">Pick a control #</option>
                    <option value="lambkabob1">Lamb Kabob: #1</option>
                    <option value="lambkabob2">Lamb Kabob: #2</option>
                    <option value="lambkabob3">Lamb Kabob: #3</option>
                    <option value="lambkabob4">Lamb Kabob: #4</option>
                </select>
            </br>

                <input type="checkbox" id= "a" name="c1" onclick="showMe('control4')"/>
                <label for="a">Meat balls - Chicken/Beef</label>

                 <select class="form-control" id="control4" name ="meatball_addon" id="sel1" style="display:none;">
                    <option value="null">Pick a control #</option>
                    <option value="meatball1">Meat balls: #1</option>
                    <option value="meatball2">Meat balls: #2</option>
                    <option value="meatball3">Meat balls: #3</option>
                    <option value="meatball4">Meat balls: #4</option>
                </select>
            </br>

                <input type="checkbox" id= "a" name="c1" onclick="showMe('control5')"/>
                <label for="a">Veggie Burgers</label>

                 <select class="form-control" id="control5" name ="burger_addon" id="sel1" style="display:none;">
                    <option value="null">Pick a control #</option>
                    <option value="burger1">Veggie Burger: #1</option>
                    <option value="burger2">Veggie Burger: #2</option>
                    <option value="burger3">Veggie Burger: #3</option>
                    <option value="burger4">Veggie Burger: #4</option>
                </select>
            </div>

            <div class="col-md-12">
                <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th colspan="7" class="text-center">ADD ON PREMIUM ITEMS</th>
            </tr>
            <tr>
                <th>Control #</th>
                <th># of people served</th>
                <th>Shrimp</th>
                <th>Beef Kabob</th>
                <th>Lamb Kabob</th>
                <th>Meat balls- Chicken/Beef</th>
                <th>Veggie Burgers</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>40</td>
                <td>$80</td>
                <td>$56</td>
                <td>$64</td>
                <td>$60</td>
                <td>$56</td>
            </tr>
            <tr>
                <td>2</td>
                <td>30</td>
                <td>$56</td>
                <td>$32</td>
                <td>$51</td>
                <td>$45</td>
                <td>$42</td>
            </tr>
            <tr>
                <td>3</td>
                <td>20</td>
                <td>$40</td>
                <td>$24</td>
                <td>$38</td>
                <td>$30</td>
                <td>$28</td>
            </tr>
            <tr>
                <td>4</td>
                <td>10</td>
                <td>$24</td>
                <td>$16</td>
                <td>$26</td>
                <td>$19</td>
                <td>$14</td>
            </tr>
        </tbody>
    </table>
            </div>
        </div>
    </fieldset>
 
    <h3>Schedule</h3>
    <fieldset>
        <div class="row" style="margin-top: 1%;">
        <legend class="ms-legend-2">Select a date and time that you will be available</legend>
                    
                    <div class="col-md-8" style="margin-top: 5%;">
                        <h4>*please schedule chef appointment 48 hours in advance</h4>
                        <h3 class="fs-title">Pick a time for your chef appointment</h3>
                        <div class="form-group" style="margin-top: 3%;">
                            <div class='input-group date' id='datetimepicker2'>
                            <input type="text" class="form-control required" name="chef_date" required />
                            <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                            </span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-8">
                        <h4>*please schedule your grocery delivery up to 24 hours before the chef appointment</h4>
                        <h3 class="fs-title">Pick a time that you want your groceries delivered</h3>
                        <div class="form-group" style="margin-top: 3%;">
                            <div class='input-group date' id='datetimepicker1'>
                            <input type="text" class="form-control required" name="grocery_date" required />
                            <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                            </span>
                            </div>
                        </div>
                    </div>
                    
                <script type="text/javascript">
                    $(function () {
                        $('#datetimepicker1').datetimepicker({
                        sideBySide: true,
                        });
                    });

                    $(function () {
                        $('#datetimepicker2').datetimepicker({
                        sideBySide: true,
                        });
                    });
                </script>
        </div>
    </fieldset>
 
    <h3>Contact</h3>
    <fieldset>
        <legend class="ms-legend">Enter your phone number and address</legend>
        <div class="row shit">
                <div class="col-md-10" style="margin-left: 3%;">
                        <h2 class="fs-title">Enter Contact info</h2>
                        <h3 class="fs-subtitle" style="margin-bottom: 4%;">So that we can get your food to you!</h3>
                        <div class="input-group">
                        <span class="input-group-addon" id="basic-addon1">Address: </span>
                        <input type="text" class="form-control required" placeholder="100 Hungry Lane" aria-describedby="basic-addon1" name="address" data-parsley-group="block3" required />
                        </div>
                        <div class="input-group">
                        <span class="input-group-addon" id="basic-addon1">Phone</span>
                        <input type="text" class="form-control required" placeholder="555-555-5555" aria-describedby="basic-addon1" name="contact_info" data-parsley-group="block3" required>
                        </div>

                        <input style="margin-top: 5%;" type="submit" class="btn btn-info submit" />
                </div>
            </div>
    </fieldset>
</form>

</div>

<script>

function showMe (box) {

    var chboxs = document.getElementsByName("c1");

    var vis = "none";
    for(var i=0;i<chboxs.length;i++) { 
        if(chboxs[i].checked){
         vis = "block";
        }
    }
    document.getElementById(box).style.display = vis;


}

var form = $("#example-advanced-form").show();
 
form.steps({
    headerTag: "h3",
    bodyTag: "fieldset",
    transitionEffect: "slideLeft",
    onStepChanging: function (event, currentIndex, newIndex)
    {
        // Allways allow previous action even if the current form is not valid!
        if (currentIndex > newIndex)
        {
            return true;
        }
        // Forbid next action on "Warning" step if the user is to young
        if (newIndex === 4 && Number($("#age-2").val()) < 18)
        {
            return false;
        }
        // Needed in some cases if the user went back (clean up)
        if (currentIndex < newIndex)
        {
            // To remove error styles
            form.find(".body:eq(" + newIndex + ") label.error").remove();
            form.find(".body:eq(" + newIndex + ") .error").removeClass("error");
        }
        form.validate().settings.ignore = ":disabled,:hidden";
        return form.valid();
    },
    onStepChanged: function (event, currentIndex, priorIndex)
    {
        // Used to skip the "Warning" step if the user is old enough.
        if (currentIndex === 4 && Number($("#age-2").val()) >= 18)
        {
            form.steps("next");
        }
        // Used to skip the "Warning" step if the user is old enough and wants to the previous step.
        if (currentIndex === 2 && priorIndex === 3)
        {
            form.steps("previous");
        }
    }
}).validate({
    errorPlacement: function errorPlacement(error, element) { element.before(error); },
    rules: {
        confirm: {
            equalTo: "#password-2"
        }
    }
});

</script>




    
 <%= render 'shared/footer' %>
